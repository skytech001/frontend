{"ast":null,"code":"import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\nimport axios from \"axios\";\nexport const addItemToCart = createAsyncThunk(\"addToCart/addItemToCart\", async (id, qty) => {\n  try {\n    const response = await axios.post(\"http://localhost:5000/products/:id\", {\n      id\n    });\n    console.log(response.data);\n    return {\n      name: response.data[0].name,\n      image: response.data[0].image,\n      price: response.data[0].price,\n      countInStock: response.data[0].countInStock,\n      product: response.data[0].id,\n      qty: qty\n    };\n  } catch (error) {}\n});\nconst addToCartSlice = createSlice({\n  name: \"addToCart\",\n  initialState: {\n    cartItems: []\n  },\n  extraReducers(builder) {\n    builder.addCase(addItemToCart.fulfilled, (state, action) => {\n      const item = action.payload;\n      if (state.cartItems.length > 0) {\n        const newCartItems = state.cartItems.filter(inCartItem => {\n          return inCartItem.product !== item.product;\n        });\n        if (newCartItems.length > 0) {\n          state.cartItems = [...newCartItems, item];\n        } else {\n          state.cartItems = [item];\n        }\n      } else {\n        state.cartItems = [...state.cartItems, item];\n      }\n      console.log(action.payload);\n    });\n  }\n});\nexport default addToCartSlice.reducer;","map":{"version":3,"names":["createAsyncThunk","createSlice","axios","addItemToCart","id","qty","response","post","console","log","data","name","image","price","countInStock","product","error","addToCartSlice","initialState","cartItems","extraReducers","builder","addCase","fulfilled","state","action","item","payload","length","newCartItems","filter","inCartItem","reducer"],"sources":["C:/Users/abiod/Desktop/frontend/src/features/addToCartSlice.js"],"sourcesContent":["import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\r\n\r\nimport axios from \"axios\";\r\n\r\nexport const addItemToCart = createAsyncThunk(\r\n  \"addToCart/addItemToCart\",\r\n  async (id, qty) => {\r\n    try {\r\n      const response = await axios.post(\"http://localhost:5000/products/:id\", {\r\n        id,\r\n      });\r\n      console.log(response.data);\r\n      return {\r\n        name: response.data[0].name,\r\n        image: response.data[0].image,\r\n        price: response.data[0].price,\r\n        countInStock: response.data[0].countInStock,\r\n        product: response.data[0].id,\r\n        qty: qty,\r\n      };\r\n    } catch (error) {}\r\n  }\r\n);\r\nconst addToCartSlice = createSlice({\r\n  name: \"addToCart\",\r\n  initialState: {\r\n    cartItems: [],\r\n  },\r\n  extraReducers(builder) {\r\n    builder.addCase(addItemToCart.fulfilled, (state, action) => {\r\n      const item = action.payload;\r\n      if (state.cartItems.length > 0) {\r\n        const newCartItems = state.cartItems.filter((inCartItem) => {\r\n          return inCartItem.product !== item.product;\r\n        });\r\n        if (newCartItems.length > 0) {\r\n          state.cartItems = [...newCartItems, item];\r\n        } else {\r\n          state.cartItems = [item];\r\n        }\r\n      } else {\r\n        state.cartItems = [...state.cartItems, item];\r\n      }\r\n\r\n      console.log(action.payload);\r\n    });\r\n  },\r\n});\r\n\r\nexport default addToCartSlice.reducer;\r\n"],"mappings":"AAAA,SAASA,gBAAgB,EAAEC,WAAW,QAAQ,kBAAkB;AAEhE,OAAOC,KAAK,MAAM,OAAO;AAEzB,OAAO,MAAMC,aAAa,GAAGH,gBAAgB,CAC3C,yBAAyB,EACzB,OAAOI,EAAE,EAAEC,GAAG,KAAK;EACjB,IAAI;IACF,MAAMC,QAAQ,GAAG,MAAMJ,KAAK,CAACK,IAAI,CAAC,oCAAoC,EAAE;MACtEH;IACF,CAAC,CAAC;IACFI,OAAO,CAACC,GAAG,CAACH,QAAQ,CAACI,IAAI,CAAC;IAC1B,OAAO;MACLC,IAAI,EAAEL,QAAQ,CAACI,IAAI,CAAC,CAAC,CAAC,CAACC,IAAI;MAC3BC,KAAK,EAAEN,QAAQ,CAACI,IAAI,CAAC,CAAC,CAAC,CAACE,KAAK;MAC7BC,KAAK,EAAEP,QAAQ,CAACI,IAAI,CAAC,CAAC,CAAC,CAACG,KAAK;MAC7BC,YAAY,EAAER,QAAQ,CAACI,IAAI,CAAC,CAAC,CAAC,CAACI,YAAY;MAC3CC,OAAO,EAAET,QAAQ,CAACI,IAAI,CAAC,CAAC,CAAC,CAACN,EAAE;MAC5BC,GAAG,EAAEA;IACP,CAAC;EACH,CAAC,CAAC,OAAOW,KAAK,EAAE,CAAC;AACnB,CAAC,CACF;AACD,MAAMC,cAAc,GAAGhB,WAAW,CAAC;EACjCU,IAAI,EAAE,WAAW;EACjBO,YAAY,EAAE;IACZC,SAAS,EAAE;EACb,CAAC;EACDC,aAAa,CAACC,OAAO,EAAE;IACrBA,OAAO,CAACC,OAAO,CAACnB,aAAa,CAACoB,SAAS,EAAE,CAACC,KAAK,EAAEC,MAAM,KAAK;MAC1D,MAAMC,IAAI,GAAGD,MAAM,CAACE,OAAO;MAC3B,IAAIH,KAAK,CAACL,SAAS,CAACS,MAAM,GAAG,CAAC,EAAE;QAC9B,MAAMC,YAAY,GAAGL,KAAK,CAACL,SAAS,CAACW,MAAM,CAAEC,UAAU,IAAK;UAC1D,OAAOA,UAAU,CAAChB,OAAO,KAAKW,IAAI,CAACX,OAAO;QAC5C,CAAC,CAAC;QACF,IAAIc,YAAY,CAACD,MAAM,GAAG,CAAC,EAAE;UAC3BJ,KAAK,CAACL,SAAS,GAAG,CAAC,GAAGU,YAAY,EAAEH,IAAI,CAAC;QAC3C,CAAC,MAAM;UACLF,KAAK,CAACL,SAAS,GAAG,CAACO,IAAI,CAAC;QAC1B;MACF,CAAC,MAAM;QACLF,KAAK,CAACL,SAAS,GAAG,CAAC,GAAGK,KAAK,CAACL,SAAS,EAAEO,IAAI,CAAC;MAC9C;MAEAlB,OAAO,CAACC,GAAG,CAACgB,MAAM,CAACE,OAAO,CAAC;IAC7B,CAAC,CAAC;EACJ;AACF,CAAC,CAAC;AAEF,eAAeV,cAAc,CAACe,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}